<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>ACORD 25 Interactive Quiz - Complete</title>
<style>
  /* Keep your existing styles unchanged */
</style>
</head>
<body>
<header>
  <img src="https://i.imgur.com/d2BCvGL.png" alt="Office Beacon Logo" />
  <h3>Office Beacon Training - ACORD 25 Interactive Quiz</h3>
</header>

<h1 id="qTitle"></h1>
<p id="qText"></p>

<div class="quiz">
  <img id="qImage" src="" alt="ACORD Form">
  <div id="options"></div>
</div>

<div id="feedback"></div>

<div id="end">
  <h2>Activity Complete!</h2>
  <p>Your total score: <span id="score">0</span>/10</p>
  <a class="next" id="nextActivityBtn" href="#">➡️ Proceed to the Next Activity</a>
</div>

<script>
const questions = [ /* your existing 10 questions */ ];

let current = 0;
let score = 0;

const qTitle = document.getElementById("qTitle");
const qText = document.getElementById("qText");
const qImage = document.getElementById("qImage");
const optionsDiv = document.getElementById("options");
const feedback = document.getElementById("feedback");
const end = document.getElementById("end");
const scoreEl = document.getElementById("score");
const nextBtn = document.getElementById("nextActivityBtn");

function loadQuestion() {
  const q = questions[current];
  qTitle.textContent = q.title;
  qText.innerHTML = q.text;
  qImage.src = q.image;
  feedback.textContent = "";
  optionsDiv.innerHTML = "";

  q.options.forEach(opt => {
    const btn = document.createElement("div");
    btn.classList.add("option");
    btn.style.top = opt.top + "px";
    btn.style.left = opt.left + "px";
    btn.onclick = () => checkAnswer(btn, opt.correct);
    optionsDiv.appendChild(btn);
  });
}

function checkAnswer(btn, isCorrect) {
  document.querySelectorAll(".option").forEach(b => b.classList.add("disabled"));

  if (isCorrect) {
    feedback.textContent = "✅ Correct!";
    feedback.className = "correct";
    score++;
  } else {
    feedback.textContent = "❌ Oops, wrong answer!";
    feedback.className = "wrong";
  }

  setTimeout(() => {
    current++;
    if (current < questions.length) {
      loadQuestion();
    } else {
      showEnd();
    }
  }, 1500);
}

function showEnd() {
  document.querySelector(".quiz").style.display = "none";
  feedback.style.display = "none";
  end.style.display = "block";
  scoreEl.textContent = score;

  // Set Activity 2 URL with score parameter
  const activity2Url = "https://script.google.com/macros/s/AKfycbzA178GCCVWV84kd5rEjnzdaU8knSG9MvlndsZVApslylbVUn5KJ3191vGZpsFgE_-t/exec"; // Replace with your Apps Script web app URL
  nextBtn.href = `${activity2Url}?quizScore=${score}`;
}

loadQuestion();
</script>
</body>
</html>
