<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Office Beacon Training â€“ Activity 1</title>
  <style>
    body {
      font-family: "Segoe UI", Arial, sans-serif;
      margin: 0;
      padding: 0;
      background: linear-gradient(135deg, #002d72, #ffb400);
      color: #fff;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .container {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(6px);
      border-radius: 16px;
      padding: 40px;
      max-width: 700px;
      width: 90%;
      box-shadow: 0 4px 25px rgba(0,0,0,0.4);
    }
    header {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-bottom: 20px;
    }
    header img {
      width: 60px;
      height: auto;
    }
    h1 {
      margin: 0;
      font-size: 1.4rem;
    }
    .question {
      margin-bottom: 15px;
    }
    .question label {
      display: block;
      margin-bottom: 8px;
      font-weight: bold;
    }
    input[type="text"], select {
      width: 100%;
      padding: 8px;
      border-radius: 6px;
      border: none;
      outline: none;
      font-size: 1rem;
    }
    button {
      background: #ffb400;
      border: none;
      color: #002d72;
      font-weight: bold;
      padding: 10px 20px;
      border-radius: 8px;
      cursor: pointer;
      transition: 0.3s;
      margin-top: 10px;
    }
    button:hover {
      background: #ffd84d;
    }
    .hidden { display: none; }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <img src="https://i.imgur.com/d2BCvGL.png" alt="Office Beacon Logo" />
      <h1>Office Beacon Training â€“ Activity 1 (Insurance Basics Quiz)</h1>
    </header>

    <div id="intro">
      <label for="name">Enter your name:</label>
      <input type="text" id="name" placeholder="Your Full Name" />
      <button id="startBtn">Start Quiz</button>
    </div>

    <form id="quizForm" class="hidden">
      <!-- 10 questions â€“ exactly same text & structure -->
      <div class="question">
        <label>1. What does COI stand for?</label>
        <input type="text" id="q1" />
      </div>
      <div class="question">
        <label>2. Who issues a Certificate of Insurance?</label>
        <input type="text" id="q2" />
      </div>
      <div class="question">
        <label>3. What is the purpose of the Declarations Page?</label>
        <input type="text" id="q3" />
      </div>
      <div class="question">
        <label>4. What information is found on the Declarations Page?</label>
        <input type="text" id="q4" />
      </div>
      <div class="question">
        <label>5. What is an Additional Insured?</label>
        <input type="text" id="q5" />
      </div>
      <div class="question">
        <label>6. Who requests a Certificate of Insurance?</label>
        <input type="text" id="q6" />
      </div>
      <div class="question">
        <label>7. What does â€˜Policy Effective Dateâ€™ mean?</label>
        <input type="text" id="q7" />
      </div>
      <div class="question">
        <label>8. Why is it important to list correct policy numbers on a COI?</label>
        <input type="text" id="q8" />
      </div>
      <div class="question">
        <label>9. Who is the certificate holder?</label>
        <input type="text" id="q9" />
      </div>
      <div class="question">
        <label>10. Where can you find the insuredâ€™s address?</label>
        <input type="text" id="q10" />
      </div>

      <button type="button" id="submitBtn">Submit Answers</button>
    </form>

    <div id="result" class="hidden">
      <h2>Great job <span id="displayName"></span>!</h2>
      <p>Your Activity 1 Score: <strong id="scoreDisplay"></strong></p>
      <button id="nextActivityBtn">Proceed to Next Activity</button>
    </div>
  </div>

  <script>
    const startBtn = document.getElementById("startBtn");
    const quizForm = document.getElementById("quizForm");
    const intro = document.getElementById("intro");
    const result = document.getElementById("result");
    const displayName = document.getElementById("displayName");
    const scoreDisplay = document.getElementById("scoreDisplay");
    let finalScore = 0;

    startBtn.addEventListener("click", () => {
      const name = document.getElementById("name").value.trim();
      if (!name) return alert("Please enter your name to begin.");
      localStorage.setItem("name", name);
      intro.classList.add("hidden");
      quizForm.classList.remove("hidden");
    });

    document.getElementById("submitBtn").addEventListener("click", () => {
      const name = localStorage.getItem("name");
      if (!name) return alert("Please enter your name first.");

      // Simple scoring: each answered question = 10 pts
      const answers = Array.from({ length: 10 }, (_, i) =>
        document.getElementById(`q${i + 1}`).value.trim()
      );
      const score = answers.filter(a => a !== "").length * 10;
      finalScore = score;

      // Show result screen
      quizForm.classList.add("hidden");
      result.classList.remove("hidden");
      displayName.textContent = name;
      scoreDisplay.textContent = `${score}`;

      // Save locally for Activity 2
      saveLocalData(name, finalScore);
    });

    /* === Save to localStorage === */
    function saveLocalData(name, score) {
      localStorage.setItem("name", name);
      localStorage.setItem("scoreA1", score);
    }

    /* === Redirect to Activity 2 === */
    function goToActivity2(name, scoreA1) {
      localStorage.setItem("name", name);
      localStorage.setItem("scoreA1", scoreA1);

      // ðŸ‘‰ Replace this URL after you deploy Activity 2
      const ACTIVITY_2_URL = "https://script.google.com/macros/s/AKfycbyYFIBz0gKGBAuX9wVDwbHljedTtyG1c-wtncQYJR9d9U7iASrRizR_ol6kpr6go_jA/exec";

      const target = `${ACTIVITY_2_URL}?name=${encodeURIComponent(name)}&scoreA1=${encodeURIComponent(scoreA1)}`;
      window.location.href = target;
    }

    /* === Proceed button click === */
    document.getElementById("nextActivityBtn").addEventListener("click", () => {
      const name = localStorage.getItem("name");
      const score = localStorage.getItem("scoreA1") || finalScore || 0;
      if (!name) {
        alert("Please enter your name first.");
        return;
      }
      goToActivity2(name, score);
    });
  </script>
</body>
</html>
